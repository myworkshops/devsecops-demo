---
# Secrets Configuration Template  
# Copy this file to secrets.local.yaml and fill in your actual values
# DO NOT commit secrets.local.yaml to version control

# Vault configuration
vault:
  replicas: 2

# MongoDB configuration per environment
mongodb:
  develop:
    password: "changeme"
    username: "app_user"
    database: "device_registration"
  stage:
    password: "changeme"
    username: "app_user"
    database: "device_registration"
  production:
    password: "changeme"
    username: "app_user"
    database: "device_registration"

# Jenkins configuration
jenkins:
  lock_log: false
  admin_password: "changeme"
  git_repository: "https://github.com/your-org/jenkins-library.git"
  git_library_branch: "main"
  git_credentials_id: "wmoinar"
  dockerhub_username: "your-dockerhub-username"
  dockerhub_password: "your-dockerhub-token"
  sonarcloud_token: "your-sonarcloud-token"
  github_token: "github_pat_YOUR_TOKEN_HERE"

# Keycloak configuration
keycloak:
  admin_password: "changeme"
  postgresql_password: "changeme"
  lock_log: true
  # Single public client for frontend (used across all environments)
  clients:
    - client_id: "statistics-frontend"
      name: "Statistics Frontend Application"
      description: "Public client for statistics frontend application"
      public_client: true  # No client_secret required
      protocol: "openid-connect"
      standard_flow_enabled: true  # Authorization Code Flow
      direct_access_grants_enabled: false
      implicit_flow_enabled: false
      service_accounts_enabled: false
      # Web origins per environment (CORS)
      web_origins:
        develop:
          - "http://app.local"
          - "http://app-dev.local"
          - "http://app-develop.local"
          - "http://localhost:8080"
        stage:
          - "http://app-staging.local"
          - "http://app-stage.local"
          - "https://app-staging.example.com"
        production:
          - "https://app.example.com"
          - "https://www.example.com"
      # Redirect URIs per environment
      redirect_uris:
        develop:
          - "http://app.local/*"
          - "http://app-dev.local/*"
          - "http://app-develop.local/*"
          - "http://localhost:8080/*"
        stage:
          - "http://app-staging.local/*"
          - "http://app-stage.local/*"
          - "https://app-staging.example.com/*"
        production:
          - "https://app.example.com/*"
          - "https://www.example.com/*"
  realms:
    - name: develop
      display_name: "Development Environment"
      roles:
        - name: admin
          description: "Administrator role with full access"
        - name: operator
          description: "Operator role with read-only access"
      users:
        - username: admin-dev
          password: "changeme"
          email: admin-dev@example.com
          firstName: Admin
          lastName: Dev
          enabled: true
          emailVerified: true
          roles: [admin]
        - username: operator-dev
          password: "changeme"
          email: operator-dev@example.com
          firstName: Operator
          lastName: Dev
          enabled: true
          emailVerified: true
          roles: [operator]
    - name: stage
      display_name: "Staging Environment"
      roles:
        - name: admin
          description: "Administrator role with full access"
        - name: operator
          description: "Operator role with read-only access"
      users:
        - username: admin-staging
          password: "changeme"
          email: admin-staging@example.com
          firstName: Admin
          lastName: Staging
          enabled: true
          emailVerified: true
          roles: [admin]
    - name: production
      display_name: "Production Environment"
      roles:
        - name: admin
          description: "Administrator role with full access"
        - name: operator
          description: "Operator role with read-only access"
      users:
        - username: admin-prod
          password: "changeme"
          email: admin-prod@example.com
          firstName: Admin
          lastName: Prod
          enabled: true
          emailVerified: true
          roles: [admin]

# Frontend configuration per environment
frontend:
  develop:
    domain: "app.local"
    alternate_domains:
      - "app-dev.local"
      - "app-develop.local"
    keycloak_url: "http://keycloak.local"
    keycloak_realm: "develop"
    keycloak_client_id: "statistics-frontend"
    api_base_url: "http://statistics-api-dev.local"
    cors_origins: "http://app.local,http://app-dev.local,http://app-develop.local,http://localhost:8080"
  stage:
    domain: "app-staging.local"
    alternate_domains:
      - "app-stage.local"
    keycloak_url: "http://keycloak-staging.local"
    keycloak_realm: "stage"
    keycloak_client_id: "statistics-frontend"
    api_base_url: "http://statistics-api-staging.local"
    cors_origins: "http://app-staging.local,http://app-stage.local,https://app-staging.example.com"
  production:
    domain: "app.example.com"
    alternate_domains:
      - "www.example.com"
    keycloak_url: "https://keycloak.example.com"
    keycloak_realm: "production"
    keycloak_client_id: "statistics-frontend"
    api_base_url: "https://api.example.com"
    cors_origins: "https://app.example.com,https://www.example.com"

# API configuration per environment (for backend services)
apis:
  statistics:
    develop:
      domain: "statistics-api-dev.local"
      cors_origins: "http://app.local,http://app-dev.local,http://app-develop.local,http://localhost:8080"
    stage:
      domain: "statistics-api-staging.local"
      cors_origins: "http://app-staging.local,http://app-stage.local,https://app-staging.example.com"
    production:
      domain: "api.example.com"
      cors_origins: "https://app.example.com,https://www.example.com"
  device_registration:
    develop:
      domain: "device-registration-api-dev.local"
      cors_origins: "http://app.local,http://app-dev.local,http://app-develop.local,http://localhost:8080"
    stage:
      domain: "device-registration-api-staging.local"
      cors_origins: "http://app-staging.local,http://app-stage.local,https://app-staging.example.com"
    production:
      domain: "device-registration-api.example.com"
      cors_origins: "https://app.example.com,https://www.example.com"
